<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
button{
	
	margin: 10px;
}
</style>
<script src = "https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script type="text/javascript">
var themeTime = "[[${dto.themeTime}]]";
var bookNum = "[[${dto.bookNum}]]";

$(function(){
	if(themeTime == ("종일권")){
		$("#themeTime").html("<button type='button' th:attr='onclick=|allDayUse);|'>종일권</button>");
		$("#themeTime").click(function(){
			allDayUse(bookNum);
		})
		
	}
	else{
		$("#themeTime").val("[[${dto.themeTime}]]");
	}
})

function allDayUse(){
	$("#content").css("display","block");
	 $("#content").html(
			 "<button type='button' onclick='timeBook()'>시간 예약</button><br/><button type='button' onclick='directBook()'>바로 예약</button>"
	 );
}

function timeBook(){
	$.ajax({
		type: "post",
		url: "/book/timeBook",
		data: {"bookNum" : bookNum},
		dataType: "html",
		success: function(result){
			$("#content").html(result);
		},
		error: function(){
			alert("오류");
		}
	});
}
function directBook(){
	$.ajax({
		type: "post",
		url: "/book/directBook",
		data: {"bookNum" : bookNum},
		dataType: "html",
		success: function(result){
			$("#content").html(result);
		},
		error: function(){
			alert("오류");
		}
	});
}
</script>
</head>
<body>

예약 번호 : [[${dto.bookNum}]]<br/>
예약 내용 : [[${dto.themeNum}]]<br/>
예약 시간 : <span id="themeTime" >[[${dto.themeTime}]]</span><br/>
<div id="content" style="border:1px solid black; width:300px; height:500px;display:none;" align="center">

</div>
</body>
</html>